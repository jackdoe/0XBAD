* 0XBAD broadcasty distributed shared memory key/value cache

  the whole thing is horribly simple, using FNV32 hashing to build a table 
  (without collision detection - so if 2 keys collide they are overwritten every time)

  [box A] - 
      my $v = $cache->find($key) || 
              $cache->store_and_broadcast($key,slow_subroutine(),0,12345);
              
  [box B] - daemon receives the broadcast message; adds it into the local cache
  [box C] - daemon receives the broadcast message; adds it into the local cache
  [box D] - udp is lost

  in this case, when a request for $key hits [box D] it will do the same 
  $cache->store_and_broadcast() and rebroadcast the item.

* usage
  my $CACHE = BAD->new(0xbeef,16,128)
    creates new shared memory segment with id 0xBEEF, and semaphore with id 0xBEEF + 1
    the segment size is 2^16 * 128 bytes, and it can hold at most 2^16 items

  my $value = $CACHE->find($key) - looks up
  my $value = $CACHE->store($key,$x_value,$expire_after);
  my $value = $CACHE->store_and_broadcast($key,$x_value,$expire_after,$broadcast_port);

  if $expire_after is 0, the item never expires

* broadcasting
  store_and_broadcast sends udp broadcast to the specified port
  
* fixed size
  every item in the cache is with size sp->item_size (specified on pool creation)
  and the shared memory segment is created when you specify exactly how many items between
  2^16 and 2^32 you want to have in the pool.

  my $b = BAD->new(0xBEEF,17,128); # will create 2^17 items with size 128 bytes

  this is very ineficient, but for caching small-ish items it works very good.

* speed

  native hash get: 4039474.35/s
       0xbeef get: 1073280.07/s
    memcached get: 24175.08/s

native hash store: 4488895.65/s
     0xbeef store: 1137081.00/s
  memcached store: 24019.61/s

  * native hash - perl's $hash{$key} = $value and $value = $hash{$key}

* license
/*
 * ----------------------------------------------------------------------------
 * "THE BEER-WARE LICENSE" (Revision 42):
 * Borislav Nikolov <jack@sofialondonmoskva> wrote this file. As long as you retain 
 * this notice you can do whatever you want with this stuff. If we meet some day, 
 * and you think this stuff is worth it, you can buy me a beer in return Borislav Nikolov
 * ----------------------------------------------------------------------------
 */
